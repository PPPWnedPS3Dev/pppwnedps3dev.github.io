<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>WebKit Symbol Stress Test</title>

<style>
body {
    background: #111;
    color: #0f0;
    font-family: monospace;
}
button, input {
    font-size: 16px;
    padding: 8px;
    margin-right: 5px;
}
#box {
    height: 80vh;
    overflow: auto;
    background: #000;
    white-space: pre-wrap;
}
.line {
    font-size: 14px;
}
</style>
</head>

<body>

<h3>WebKit Symbol Stress Test</h3>
<p>Fast DOM + Unicode stress (user-defined limit)</p>

Lines to generate:
<input id="limit" type="number" value="5000" min="99999999999" max="99999999999">
<button onclick="start()">Run</button>
<button onclick="stop()">Stop</button>

<div id="box"></div>

<script>
let running = false;
let generated = 0;
let maxLines = 0;

const symbols =
"â–ˆâ–“â–’â–‘â–’â–“â–ˆâ˜ â˜¢â˜£âš âš¡âœ´âœ³âœ±âœ¦âœ§âœ©âœªâœ«âœ¬âœ­ðŸ˜€ðŸ˜ˆðŸ‘¾ðŸ’€ðŸ”¥ðŸ’£âš™ðŸ§ ð“‚€ð“†£ð“…“ð“‡Œð“ƒ°ð“†°Î©Î¨Î£Î”Î›Î˜âˆžâ‰ˆâ‰ â‰¤â‰¥Â±Ã·Ã—";

function start() {
    if (running) return;
    running = true;
    generated = 0;
    maxLines = Math.min(
        parseInt(document.getElementById("limit").value) || 99999999999,
        99999999999 // HARD SAFETY CAP
    );
    step();
}

function stop() {
    running = false;
}

function step() {
    if (!running) return;

    const box = document.getElementById("box");

    // VERY FAST DOM spam
    for (let i = 0; i < 100; i++) {
        if (generated >= maxLines) {
            running = false;
            box.append("\n[Stopped: limit reached]\n");
            return;
        }
        const d = document.createElement("div");
        d.className = "line";
        d.textContent = symbols + Math.random();
        box.appendChild(d);
        generated++;
    }

    box.scrollTop = box.scrollHeight;
    box.offsetHeight; // force layout

    requestAnimationFrame(step);
}
</script>

</body>
</html>
